(function (win, ysp) {
  ysp.runtime.Model.extendLoadingModel({
    getData_control96_6PAXrR: function (elem) {
      if (elem) {
        var doc = elem.ownerDocument;var el = doc && doc.querySelector("div[title^='拜访签退 列表子视图']  div.ui-jqgrid-view");var content = ysp.customHelper.getTemplateData(el, ['我负责的门店', '我负责的客户', '门店编码', '门店所属客户', "客户简称"]);var submitEl = doc.querySelector('button[aria-label^="签退信息:签退"]');var submitDisabled = false;if (submitEl && submitEl.disabled) {
          submitDisabled = true;
        }var markEl = doc.querySelector('a[name^="PTTL PSI Data"]');var mark = "";var markState = false;if (markEl) {
          mark = markEl.value;markState = markEl.readOnly;
        }var psiEl = doc.querySelector('a[name^="PTTL PSI Data"]');var psi = "";if (psiEl) {
          psi = psiEl.textContent;
        }var reportEl = doc.querySelector('a[name^="PTTL Goto Wirte Report"]');var report = "";if (reportEl) {
          report = reportEl.textContent;
        }var clientInfoEl = doc.querySelector('a[name^="PTTL Account Other Information"]');var clientInfo = "";if (clientInfoEl) {
          clientInfo = clientInfoEl.textContent;
        }return { content: content, psi: psi, mark: mark,
          report: report, markState: markState, clientInfo: clientInfo, submitDisabled: submitDisabled };
      }return undefined;
    }, doAction_uiControl97_VhySZk: function (data, elem) {
      var doc = elem.ownerDocument;if (data.eventType === 'click') {
        var index = data.dataCustom;var trEls = doc.querySelectorAll("div[title^='拜访签退 列表子视图'] div.ui-jqgrid-view table > tbody > tr");if (trEls && trEls.length > 0) {
          var trElsExsit = [];[].forEach.call(trEls, function (item) {
            if (item.textContent.replace(/(^\s*)|(\s*$)/g, "")) {
              trElsExsit.push(item);
            }
          });if (index < trElsExsit.length) {
            trElsExsit[index].click();
          }
        }
      } else if (data.eventType == 'click_K') {
        elem.ownerDocument.querySelector('button[data-display="选择客户"]').click();
      } else if (data.eventType == 'message') {
        var addressEl = doc.querySelector('input[aria-label^="签退地址"]');addressEl.focus();
        addressEl.value = data.dataCustom.address;var latitudeEl = doc.querySelector('input[aria-label^="签退纬度"]');latitudeEl.focus();latitudeEl.value = data.dataCustom.latitude;var longitudeEl = doc.querySelector('input[aria-label^="签退经度"]');longitudeEl.focus();longitudeEl.value = data.dataCustom.longitude;
      } else if (data.eventType == 'fillReport') {
        doc.querySelector("a[name^='PTTL Goto Wirte Report']").click();
      } else if (data.eventType == 'submit') {
        var submitEl = doc.querySelector('button[aria-label^="签退信息:签退"]');submitEl.click();
      } else if (data.eventType == 'fillMark') {
        var markEl = doc.querySelector('textarea[aria-label^="备注"]');markEl.focus();var mark = data.dataCustom.mark;markEl.value = mark;
      } else if (data.eventType == 'fillPSI') {
        var psiEl = doc.querySelector('a[name^="PTTL PSI Data"]');psiEl.click(); //ysp.customHelper.forceMatchModels('customer');
      } else if (data.eventType == 'fillClientInfo') {
        var clientInfoEl = doc.querySelector('a[name^="PTTL Account Other Information"]');clientInfoEl.click();ysp.customHelper.forceMatchModels('clientAnotherInfo');
      }
    },
    getTemplate_uiControl97_VhySZk: function () {
      var selfTemplate = "import {\n  Component\n} from 'react';\nimport {\n  Accordion,\n  Dialog,\n  CustomHeader\n} from 'ysp-custom-components';\nexport default class extends Component {\n  constructor() {\n    super();\n    this.state = {\n      open: false,\n      address: \"\u5B9A\u4F4D\u4E2D\",\n      visitObject: \"\u52A0\u8F7D\u4E2D\"\n    };\n  }\n  componentWillMount = () => {\n    let _this = this;\n    //window.addEventListener('visit-signout-client-dialog:open',this.toggleSwitch.bind(this),false);\n  }\n  componentWillUnmount = () =>{\n    //window.removeEventListener('visit-signout-client-dialog:open',this.toggleSwitch.bind(this),false);\n  }\n  toggleSwitch = (e) => {\n    if (e) {\n      this.setState({\n        visitObject: e.msg ? e.msg : \"\u52A0\u8F7D\u4E2D\"\n      });\n    }\n    let _this = this;\n    let flag = !this.state.open;\n    this.setState({\n      open: flag\n    });\n    if (flag) {\n      \n      setLocation = function(location) {\n        //let address = arg.address;\n        _this.showMap(location);\n      }\n      locationBegin(); //\u5F00\u59CB\u5B9A\u4F4D\n      //this.showMap(\"\u5317\u4EAC\u5E02\u6D77\u6DC0\u533A\u4E0A\u573010\u8857\");\n    } else {\n      if (this.refs.visitSignClientMap) {\n        this.refs.visitSignClientMap.innerHTML = \"\";\n      }\n    }\n  }\n  showMap = (location) => {\n    // \u767E\u5EA6\u5730\u56FEAPI\u529F\u80FD\n    let _this = this;\n    let transforRTMsg = function(data) {\n      let handler = _this.props.customHandler;\n      if (handler) {\n        handler({\n          eventType: 'message',\n          data: data\n        });\n      }\n    }\n    this.setState({\n        address: location.address\n    });\n    let map = new BMap.Map(\"visitSignOutClientMap\");\n    map.disableDragging();\n    map.disableScrollWheelZoom();\n    map.disableDoubleClickZoom();\n    let point = new BMap.Point(location.point.lng, location.point.lat);\n    map.centerAndZoom(point, 16);\n    let marker = new BMap.Marker(point); // \u521B\u5EFA\u6807\u6CE8\n    map.addOverlay(marker); // \u5C06\u6807\u6CE8\u6DFB\u52A0\u5230\u5730\u56FE\u4E2D\n    marker.setAnimation(BMAP_ANIMATION_BOUNCE); //\u8DF3\u52A8\u7684\u52A8\u753B\n    transforRTMsg({\n       address:location.address,\n       latitude:location.point.lat,\n       longitude:location.point.lng\n    });\n  }\n  \n  handleMarkChange = (evt) => {\n     this.setState({mark:evt.target.value});\n  }\n  componentWillReceiveProps = (nextProps)=> {\n     if(nextProps.customData && this.state.mark != nextProps.customData.mark){\n        this.setState({mark: nextProps.customData.mark,markState:nextProps.customData.markState}); \n     } \n  }\n\n  render = () => {\n    let datas = (this.props.customData && this.props.customData.content && ysp1.ext.Utils.filterArray(1, this.props.customData.content));\n    let _this = this;\n    return (\n      <div className=\"ysp-visitsign-wrapper\">\n             <Accordion className=\"ysp-visitsign-accordion-wapper\" close={false}>\n                <Accordion.Header>\n                  <header className=\"ysp-visitsign-accordion-header\"  onClick={(e)=>{\n                        let handler = this.props.customHandler;\n                        if(handler){\n                          handler({\n                            eventType:'click_K'\n                          })\n                        }\n                      }}>\n                    <span>\n                      <span className=\"ysp-accordion-client-icon\"></span>\n                    </span>\n                    <span>\u5BA2\u6237</span>\n                  </header>\n                </Accordion.Header>\n                <Accordion.Body  className=\"ysp-visitsign-acoordion-body\">{datas && datas !== undefined ? datas.map((items, index)=>\n                      <div key={index} className=\"ysp-visitsign-accordion-item\" onClick={()=>{\n                              _this.setState({\n                                visitObject: items[1]\n                              });  \n                              let handler = _this.props.customHandler;\n                              if (handler) {\n                                handler({\n                                  eventType: 'click',\n                                  data:items[items.length - 1]\n                                });\n                              }    \n                              _this.toggleSwitch(); \n                          }}>\n                         <div>\n                            <div>{items[1]}</div>\n                               \n                        </div>\n                        <div>\n                          <span className=\"ysp-entry-icon\"></span>                          \n                        </div> \n                      </div>\n                    ) : \"\u6682\u65E0\u6570\u636E\" }\n               </Accordion.Body>\n             </Accordion>\n                 \n            <div className=\"ysp-dialog-wrapper\" style={{display:this.state.open ?\"\":\"none\"}}>\n             <CustomHeader \n                 data={{centerText:\"\u62DC\u8BBF\u7B7E\u9000\",rightText:\"\u7B5B\u9009\"}} \n                 backIsShow={true} \n                 back={()=>{ \n                    _this.toggleSwitch(); \n                 }} \n                 filterIsShow={false} \n                 filter={()=>{console.info(\"header filter ...\")}}/>\n             <div id=\"visitSignOutClientMap\"></div>\n             <footer className=\"ysp-dialog-wrapper-footer\">\n               <div> \n                 <span>\n                   <span>\n                     <span className=\"ysp-visitsign-date-icon\"></span>\n                   </span>\n                   <span>\u62DC\u8BBF\u65E5\u671F<span className=\"ysp-important-tip\">*</span></span>\n                 </span>\n                 <span>{ysp1.ext.Utils.getCurrentData()}</span>\n               </div>\n               <div> \n                 <span>\n                   <span>\n                     <span className=\"ysp-visitsign-address-icon\"></span>\n                   </span>\n                   <span>\u5730\u5740<span className=\"ysp-important-tip\">*</span></span>\n                 </span>\n                 <span>{this.state.address}</span>\n               </div>\n               <div> \n                 <span>\n                   <span>\n                     <span className=\"ysp-visitsign-object-icon\"></span>\n                   </span>\n                   <span>\u9000\u7B7E\u5BF9\u8C61<span className=\"ysp-important-tip\">*</span></span>\n                 </span>\n                 <span>{this.state.visitObject}</span>\n               </div>\n               <AMUI.Button \n                 block={true} \n                 amSize=\"lg\" \n                 amStyle=\"success\" \n                 disabled = {this.props.customData && this.props.customData.submitDisabled}\n                 onClick={()=>{\n                    let handler = _this.props.customHandler;\n                      if (handler) {\n                        handler({\n                            eventType: 'submit'\n                         });\n                      } \n                 }}>\u63D0\u4EA4</AMUI.Button>\n               <div> \n                 <span>\n                   <span>\n                     <span className=\"ysp-visitsign-psi-icon\"></span>\n                   </span>\n                   <span>PSI\u6570\u636E</span>\n                 </span>\n                 <span onClick={()=>{\n                      let handler = _this.props.customHandler;\n                      if (handler) {\n                        handler({\n                            eventType: 'fillPSI'\n                         });\n                      }    \n                   }}>{this.props.customData && this.props.customData.psi}</span>\n               </div>\n               <div> \n                 <span>\n                   <span>\n                     <span className=\"ysp-visitsign-clientinfo-icon\"></span>\n                   </span>\n                   <span>\u5BA2\u6237\u5176\u5B83\u4FE1\u606F</span>\n                 </span>\n                 <span onClick={()=>{\n                      let handler = _this.props.customHandler;\n                      if (handler) {\n                        handler({\n                            eventType: 'fillClientInfo'\n                         });\n                      }    \n                   }}>{this.props.customData && this.props.customData.clientInfo}</span>\n               </div>\n               <div> \n                 <span>\n                   <span>\n                     <span className=\"ysp-visitsign-visitreport-icon\"></span>\n                   </span>\n                   <span>\u62DC\u8BBF\u62A5\u544A</span>\n                 </span>\n                 <span onClick={()=>{\n                      let handler = _this.props.customHandler;\n                      if (handler) {\n                        handler({\n                            eventType: 'fillReport'\n                         });\n                      }    \n                   }}>{this.props.customData && this.props.customData.report}</span>\n               </div>\n               <div>\n                  <textarea  className=\"field\" onBlur={(e)=>{\n                      let handler = _this.props.customHandler;\n                      if (handler) {\n                        handler({\n                            eventType: 'fillMark',\n                            data:{\n                               mark:e.target.value\n                            }\n                         });\n                      _this.setState({mark:e.target.value});\n                        \n                      }\n                   }} \n                    onChange={this.handleMarkChange.bind(this)}\n                    value={this.state.mark} \n                    readOnly = {this.state.markState}\n                    ></textarea>\n               </div>\n             </footer>\n           </div>\n           </div>\n    );\n  }\n}";
      return "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _yspCustomComponents = require('ysp-custom-components');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_Component) {\n  _inherits(_class, _Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    var _this2 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this));\n\n    _this2.componentWillMount = function () {\n      var _this = _this2;\n      //window.addEventListener('visit-signout-client-dialog:open',this.toggleSwitch.bind(this),false);\n    };\n\n    _this2.componentWillUnmount = function () {\n      //window.removeEventListener('visit-signout-client-dialog:open',this.toggleSwitch.bind(this),false);\n    };\n\n    _this2.toggleSwitch = function (e) {\n      if (e) {\n        _this2.setState({\n          visitObject: e.msg ? e.msg : \"\u52A0\u8F7D\u4E2D\"\n        });\n      }\n      var _this = _this2;\n      var flag = !_this2.state.open;\n      _this2.setState({\n        open: flag\n      });\n      if (flag) {\n\n        setLocation = function setLocation(location) {\n          //let address = arg.address;\n          _this.showMap(location);\n        };\n        locationBegin(); //\u5F00\u59CB\u5B9A\u4F4D\n        //this.showMap(\"\u5317\u4EAC\u5E02\u6D77\u6DC0\u533A\u4E0A\u573010\u8857\");\n      } else {\n        if (_this2.refs.visitSignClientMap) {\n          _this2.refs.visitSignClientMap.innerHTML = \"\";\n        }\n      }\n    };\n\n    _this2.showMap = function (location) {\n      // \u767E\u5EA6\u5730\u56FEAPI\u529F\u80FD\n      var _this = _this2;\n      var transforRTMsg = function transforRTMsg(data) {\n        var handler = _this.props.customHandler;\n        if (handler) {\n          handler({\n            eventType: 'message',\n            data: data\n          });\n        }\n      };\n      _this2.setState({\n        address: location.address\n      });\n      var map = new BMap.Map(\"visitSignOutClientMap\");\n      map.disableDragging();\n      map.disableScrollWheelZoom();\n      map.disableDoubleClickZoom();\n      var point = new BMap.Point(location.point.lng, location.point.lat);\n      map.centerAndZoom(point, 16);\n      var marker = new BMap.Marker(point); // \u521B\u5EFA\u6807\u6CE8\n      map.addOverlay(marker); // \u5C06\u6807\u6CE8\u6DFB\u52A0\u5230\u5730\u56FE\u4E2D\n      marker.setAnimation(BMAP_ANIMATION_BOUNCE); //\u8DF3\u52A8\u7684\u52A8\u753B\n      transforRTMsg({\n        address: location.address,\n        latitude: location.point.lat,\n        longitude: location.point.lng\n      });\n    };\n\n    _this2.handleMarkChange = function (evt) {\n      _this2.setState({ mark: evt.target.value });\n    };\n\n    _this2.componentWillReceiveProps = function (nextProps) {\n      if (nextProps.customData && _this2.state.mark != nextProps.customData.mark) {\n        _this2.setState({ mark: nextProps.customData.mark, markState: nextProps.customData.markState });\n      }\n    };\n\n    _this2.render = function () {\n      var datas = _this2.props.customData && _this2.props.customData.content && ysp1.ext.Utils.filterArray(1, _this2.props.customData.content);\n      var _this = _this2;\n      return React.createElement(\n        'div',\n        { className: 'ysp-visitsign-wrapper' },\n        React.createElement(\n          _yspCustomComponents.Accordion,\n          { className: 'ysp-visitsign-accordion-wapper', close: false },\n          React.createElement(\n            _yspCustomComponents.Accordion.Header,\n            null,\n            React.createElement(\n              'header',\n              { className: 'ysp-visitsign-accordion-header', onClick: function onClick(e) {\n                  var handler = _this2.props.customHandler;\n                  if (handler) {\n                    handler({\n                      eventType: 'click_K'\n                    });\n                  }\n                } },\n              React.createElement(\n                'span',\n                null,\n                React.createElement('span', { className: 'ysp-accordion-client-icon' })\n              ),\n              React.createElement(\n                'span',\n                null,\n                '\\u5BA2\\u6237'\n              )\n            )\n          ),\n          React.createElement(\n            _yspCustomComponents.Accordion.Body,\n            { className: 'ysp-visitsign-acoordion-body' },\n            datas && datas !== undefined ? datas.map(function (items, index) {\n              return React.createElement(\n                'div',\n                { key: index, className: 'ysp-visitsign-accordion-item', onClick: function onClick() {\n                    _this.setState({\n                      visitObject: items[1]\n                    });\n                    var handler = _this.props.customHandler;\n                    if (handler) {\n                      handler({\n                        eventType: 'click',\n                        data: items[items.length - 1]\n                      });\n                    }\n                    _this.toggleSwitch();\n                  } },\n                React.createElement(\n                  'div',\n                  null,\n                  React.createElement(\n                    'div',\n                    null,\n                    items[1]\n                  )\n                ),\n                React.createElement(\n                  'div',\n                  null,\n                  React.createElement('span', { className: 'ysp-entry-icon' })\n                )\n              );\n            }) : \"\u6682\u65E0\u6570\u636E\"\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'ysp-dialog-wrapper', style: { display: _this2.state.open ? \"\" : \"none\" } },\n          React.createElement(_yspCustomComponents.CustomHeader, {\n            data: { centerText: \"\u62DC\u8BBF\u7B7E\u9000\", rightText: \"\u7B5B\u9009\" },\n            backIsShow: true,\n            back: function back() {\n              _this.toggleSwitch();\n            },\n            filterIsShow: false,\n            filter: function filter() {\n              console.info(\"header filter ...\");\n            } }),\n          React.createElement('div', { id: 'visitSignOutClientMap' }),\n          React.createElement(\n            'footer',\n            { className: 'ysp-dialog-wrapper-footer' },\n            React.createElement(\n              'div',\n              null,\n              React.createElement(\n                'span',\n                null,\n                React.createElement(\n                  'span',\n                  null,\n                  React.createElement('span', { className: 'ysp-visitsign-date-icon' })\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u62DC\\u8BBF\\u65E5\\u671F',\n                  React.createElement(\n                    'span',\n                    { className: 'ysp-important-tip' },\n                    '*'\n                  )\n                )\n              ),\n              React.createElement(\n                'span',\n                null,\n                ysp1.ext.Utils.getCurrentData()\n              )\n            ),\n            React.createElement(\n              'div',\n              null,\n              React.createElement(\n                'span',\n                null,\n                React.createElement(\n                  'span',\n                  null,\n                  React.createElement('span', { className: 'ysp-visitsign-address-icon' })\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u5730\\u5740',\n                  React.createElement(\n                    'span',\n                    { className: 'ysp-important-tip' },\n                    '*'\n                  )\n                )\n              ),\n              React.createElement(\n                'span',\n                null,\n                _this2.state.address\n              )\n            ),\n            React.createElement(\n              'div',\n              null,\n              React.createElement(\n                'span',\n                null,\n                React.createElement(\n                  'span',\n                  null,\n                  React.createElement('span', { className: 'ysp-visitsign-object-icon' })\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u9000\\u7B7E\\u5BF9\\u8C61',\n                  React.createElement(\n                    'span',\n                    { className: 'ysp-important-tip' },\n                    '*'\n                  )\n                )\n              ),\n              React.createElement(\n                'span',\n                null,\n                _this2.state.visitObject\n              )\n            ),\n            React.createElement(\n              AMUI.Button,\n              {\n                block: true,\n                amSize: 'lg',\n                amStyle: 'success',\n                disabled: _this2.props.customData && _this2.props.customData.submitDisabled,\n                onClick: function onClick() {\n                  var handler = _this.props.customHandler;\n                  if (handler) {\n                    handler({\n                      eventType: 'submit'\n                    });\n                  }\n                } },\n              '\\u63D0\\u4EA4'\n            ),\n            React.createElement(\n              'div',\n              null,\n              React.createElement(\n                'span',\n                null,\n                React.createElement(\n                  'span',\n                  null,\n                  React.createElement('span', { className: 'ysp-visitsign-psi-icon' })\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  'PSI\\u6570\\u636E'\n                )\n              ),\n              React.createElement(\n                'span',\n                { onClick: function onClick() {\n                    var handler = _this.props.customHandler;\n                    if (handler) {\n                      handler({\n                        eventType: 'fillPSI'\n                      });\n                    }\n                  } },\n                _this2.props.customData && _this2.props.customData.psi\n              )\n            ),\n            React.createElement(\n              'div',\n              null,\n              React.createElement(\n                'span',\n                null,\n                React.createElement(\n                  'span',\n                  null,\n                  React.createElement('span', { className: 'ysp-visitsign-clientinfo-icon' })\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u5BA2\\u6237\\u5176\\u5B83\\u4FE1\\u606F'\n                )\n              ),\n              React.createElement(\n                'span',\n                { onClick: function onClick() {\n                    var handler = _this.props.customHandler;\n                    if (handler) {\n                      handler({\n                        eventType: 'fillClientInfo'\n                      });\n                    }\n                  } },\n                _this2.props.customData && _this2.props.customData.clientInfo\n              )\n            ),\n            React.createElement(\n              'div',\n              null,\n              React.createElement(\n                'span',\n                null,\n                React.createElement(\n                  'span',\n                  null,\n                  React.createElement('span', { className: 'ysp-visitsign-visitreport-icon' })\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u62DC\\u8BBF\\u62A5\\u544A'\n                )\n              ),\n              React.createElement(\n                'span',\n                { onClick: function onClick() {\n                    var handler = _this.props.customHandler;\n                    if (handler) {\n                      handler({\n                        eventType: 'fillReport'\n                      });\n                    }\n                  } },\n                _this2.props.customData && _this2.props.customData.report\n              )\n            ),\n            React.createElement(\n              'div',\n              null,\n              React.createElement('textarea', { className: 'field', onBlur: function onBlur(e) {\n                  var handler = _this.props.customHandler;\n                  if (handler) {\n                    handler({\n                      eventType: 'fillMark',\n                      data: {\n                        mark: e.target.value\n                      }\n                    });\n                    _this.setState({ mark: e.target.value });\n                  }\n                },\n                onChange: _this2.handleMarkChange.bind(_this2),\n                value: _this2.state.mark,\n                readOnly: _this2.state.markState\n              })\n            )\n          )\n        )\n      );\n    };\n\n    _this2.state = {\n      open: false,\n      address: \"\u5B9A\u4F4D\u4E2D\",\n      visitObject: \"\u52A0\u8F7D\u4E2D\"\n    };\n    return _this2;\n  }\n\n  return _class;\n}(_react.Component);\n\nexports.default = _class;";
    },

    getData_control96_6mo6D9: function (elem) {},
    doAction_uiControl97_IZuioy: function (data, elem) {
      if (data.eventType === 'back') {
        ysp.customHelper.toPlan("拜访管理", "vistplan");
      }
    },
    getTemplate_uiControl97_IZuioy: function () {
      var selfTemplate = "import {Component} from 'react'; \nimport {CustomHeader} from 'ysp-custom-components';\nexport default class extends Component{\n   \n   render = () => {\n       let _this = this;\n       return (\n         <CustomHeader \n           data={{centerText:\"\u62DC\u8BBF\u7B7E\u9000\",rightText:\"\u7B5B\u9009\"}} \n           backIsShow={true} \n           back={()=>{ \n              let handler = _this.props.customHandler;\n              if (handler) {\n                handler({\n                  eventType: 'back'\n                });\n              }\n           }} \n           filterIsShow={false} \n           filter={()=>{console.info(\"header filter ...\")}}/>\n       );\n   }\n}\n";
      return "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _yspCustomComponents = require('ysp-custom-components');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_Component) {\n  _inherits(_class, _Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this2, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this2), _this2.render = function () {\n      var _this = _this2;\n      return React.createElement(_yspCustomComponents.CustomHeader, {\n        data: { centerText: \"\u62DC\u8BBF\u7B7E\u9000\", rightText: \"\u7B5B\u9009\" },\n        backIsShow: true,\n        back: function back() {\n          var handler = _this.props.customHandler;\n          if (handler) {\n            handler({\n              eventType: 'back'\n            });\n          }\n        },\n        filterIsShow: false,\n        filter: function filter() {\n          console.info(\"header filter ...\");\n        } });\n    }, _temp), _possibleConstructorReturn(_this2, _ret);\n  }\n\n  return _class;\n}(_react.Component);\n\nexports.default = _class;";
    },

    getData_control96_kGHl7m: function (elem) {
      if (elem) {
        var el = elem.parentNode.parentNode.nextElementSibling && elem.parentNode.parentNode.nextElementSibling.querySelector('.NotSelected');if (el && el.querySelector('table[summary="选择客户"]')) {
          var content = ysp.customHelper.getTemplateData(el, ['客户全称', '客户简称', '客户编号']);return content;
        }if (el && el.querySelector('table[summary="选择门店"]')) {
          var content = ysp.customHelper.getTemplateData(el, ['门店名称', '门店分级', '门店编码', '门店所属客户']);return content;
        }
      }return undefined;
    },
    doAction_uiControl97_6FT9o4: function (data, elem) {
      if (data.eventType == 'click') {
        var index = data.dataCustom;index++;elem.ownerDocument.querySelectorAll('.ui-jqgrid-btable')[1].querySelectorAll('tr')[index].click();elem.ownerDocument.querySelectorAll('.siebui-popup-button')[4].querySelector('button').click();
      }
    },
    getTemplate_uiControl97_6FT9o4: function () {
      var selfTemplate = 'import {Component} from \'react\';\nexport default class extends Component{\n\trender=()=>{\n    var data = this.props.customData;\n  \treturn (\n    \t<div className = \'ysp-dialog-sigin\'>{\n      \tdata && data !== undefined ? data.map((d,i)=>{\n        \treturn (\n          \t<ul onClick={(e)=>{\n                  \tvar handler = this.props.customHandler;\n                    if(handler){\n                    \thandler({\n                        data:i,\n                      \teventType:\'click\'\n                      })\n                    }\n                  }}>\n            \t<li><span>\u95E8\u5E97\u540D\u79F0\uFF1A</span><span>{d[0]}</span></li>\n              <li><span>\u95E8\u5E97\u5206\u7EA7\uFF1A</span><span>{d[1]}</span></li>\n              <li><span>\u95E8\u5E97\u7F16\u7801\uFF1A</span><span>{d[2]}</span></li>\n              <li><span>\u95E8\u5E97\u6240\u5C5E\u5BA2\u6237\uFF1A</span><span>{d[3]}</span></li>\n            </ul>\n          )\n        })  : \'\u6682\u65E0\u6570\u636E\'\t\n      }</div>\n    )\n  }\n}';
      return '\'use strict\';\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _react = require(\'react\');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_Component) {\n  _inherits(_class, _Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.render = function () {\n      var data = _this.props.customData;\n      return React.createElement(\n        \'div\',\n        { className: \'ysp-dialog-sigin\' },\n        data && data !== undefined ? data.map(function (d, i) {\n          return React.createElement(\n            \'ul\',\n            { onClick: function onClick(e) {\n                var handler = _this.props.customHandler;\n                if (handler) {\n                  handler({\n                    data: i,\n                    eventType: \'click\'\n                  });\n                }\n              } },\n            React.createElement(\n              \'li\',\n              null,\n              React.createElement(\n                \'span\',\n                null,\n                \'\\u95E8\\u5E97\\u540D\\u79F0\\uFF1A\'\n              ),\n              React.createElement(\n                \'span\',\n                null,\n                d[0]\n              )\n            ),\n            React.createElement(\n              \'li\',\n              null,\n              React.createElement(\n                \'span\',\n                null,\n                \'\\u95E8\\u5E97\\u5206\\u7EA7\\uFF1A\'\n              ),\n              React.createElement(\n                \'span\',\n                null,\n                d[1]\n              )\n            ),\n            React.createElement(\n              \'li\',\n              null,\n              React.createElement(\n                \'span\',\n                null,\n                \'\\u95E8\\u5E97\\u7F16\\u7801\\uFF1A\'\n              ),\n              React.createElement(\n                \'span\',\n                null,\n                d[2]\n              )\n            ),\n            React.createElement(\n              \'li\',\n              null,\n              React.createElement(\n                \'span\',\n                null,\n                \'\\u95E8\\u5E97\\u6240\\u5C5E\\u5BA2\\u6237\\uFF1A\'\n              ),\n              React.createElement(\n                \'span\',\n                null,\n                d[3]\n              )\n            )\n          );\n        }) : \'\u6682\u65E0\u6570\u636E\'\n      );\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  return _class;\n}(_react.Component);\n\nexports.default = _class;';
    },

    getData_control174_soQvFN: function (elem) {
      if (elem) {
        var doc = elem.ownerDocument;var el = doc && doc.querySelector("div[title^='拜访签退 列表子视图']  div.ui-jqgrid-view");var content = ysp.customHelper.getTemplateData(el, ['我负责的门店', '我负责的客户', '门店编码', '门店所属客户', "客户简称"]);var submitEl = doc.querySelector('button[aria-label^="签退信息:签退"]');var submitDisabled = false;if (submitEl && submitEl.disabled) {
          submitDisabled = true;
        }var markEl = doc.querySelector('textarea[aria-label^="备注"]');var mark = "";var markState = false;if (markEl) {
          mark = markEl.value;markState = markEl.readOnly;
        }var psiEl = doc.querySelector('a[name^="PTTL PSI Data"]');var psi = "";if (psiEl) {
          psi = psiEl.textContent;
        }var reportEl = doc.querySelector("a[name^='PTTL Goto Wirte Report']");var report = "";if (reportEl) {
          report = reportEl.textContent;
        }var clientInfoEl = doc.querySelector('a[name^="PTTL Account Other Information"]');var clientInfo = "";if (clientInfoEl) {
          clientInfo = clientInfoEl.textContent;
        }var markEl = doc.querySelector('textarea[aria-label^="备注"]');var mark = "";var markState = false;if (markEl) {
          mark = markEl.value;markState = markEl.readOnly;
        }return { content: content, psi: psi, mark: mark, report: report, markState: markState, clientInfo: clientInfo, submitDisabled: submitDisabled };
      }return undefined;
    },
    doAction_uiControl75_dgO4fx: function (data, elem) {
      var doc = elem.ownerDocument;if (data.eventType === 'click') {
        var index = data.dataCustom;var trEls = doc.querySelectorAll("div[title^='拜访签退 列表子视图'] div.ui-jqgrid-view table > tbody > tr");if (trEls && trEls.length > 0) {
          var trElsExsit = [];[].forEach.call(trEls, function (item) {
            if (item.textContent.replace(/(^\s*)|(\s*$)/g, "")) {
              trElsExsit.push(item);
            }
          });if (index < trElsExsit.length) {
            trElsExsit[index].click();
          }
        }
      } else if (data.eventType == 'click_K') {
        elem.ownerDocument.querySelector('button[data-display="选择门店"]').click();
      } else if (data.eventType == 'message') {
        var addressEl = doc.querySelector('input[aria-label^="签退地址"]');addressEl.focus();addressEl.value = data.dataCustom.address;var latitudeEl = doc.querySelector('input[aria-label^="签退纬度"]');latitudeEl.focus();latitudeEl.value = data.dataCustom.latitude;var longitudeEl = doc.querySelector('input[aria-label^="签退经度"]');longitudeEl.focus();longitudeEl.value = data.dataCustom.longitude;
      } else if (data.eventType == 'fillReport') {
        doc.querySelector("a[name^='PTTL Goto Wirte Report']").click();
      } else if (data.eventType == 'submit') {
        var submitEl = doc.querySelector('button[aria-label^="签退信息:签退"]');submitEl.click();
      } else if (data.eventType == 'fillMark') {
        var markEl = doc.querySelector('textarea[aria-label^="备注"]');markEl.focus();var mark = data.dataCustom.mark;markEl.value = mark;
      } else if (data.eventType == 'fillPSI') {
        var psiEl = doc.querySelector('a[name^="PTTL PSI Data"]');psiEl.click();ysp.customHelper.forceMatchModels('customer');
      } else if (data.eventType == 'fillClientInfo') {
        var clientInfoEl = doc.querySelector('a[name^="PTTL Account Other Information"]');clientInfoEl.click();ysp.customHelper.forceMatchModels('clientAnotherInfo');
      }
    },
    getTemplate_uiControl75_dgO4fx: function () {
      var selfTemplate = "import {\n  Component\n} from 'react';\nimport {\n  Accordion,\n  Dialog,\n  CustomHeader\n} from 'ysp-custom-components';\nexport default class extends Component {\n  constructor() {\n    super();\n    this.state = {\n      open: false,\n      address:\"\u5B9A\u4F4D\u4E2D\",\n      visitObject:\"\u52A0\u8F7D\u4E2D\"\n    };\n  }\n  \n  componentWillMount = () => {\n    let _this = this;\n    //window.addEventListener('visit-signout-gate-dialog:open',this.toggleSwitch.bind(this),false);\n  }\n  componentWillUnmount = () =>{\n    //window.removeEventListener('visit-signout-gate-dialog:open',this.toggleSwitch.bind(this),false);\n  }\n  toggleSwitch = (e) => {\n    if (e) {\n      this.setState({\n        visitObject: e.msg ? e.msg : \"\u52A0\u8F7D\u4E2D\"\n      });\n    }\n    let _this = this;\n    let flag = !this.state.open;\n    this.setState({\n      open: flag\n    });\n    if (flag) {\n      \n      setLocation = function(location) {\n        //let address = arg.address;\n        _this.showMap(location);\n      }\n      locationBegin(); //\u5F00\u59CB\u5B9A\u4F4D\n      //this.showMap(\"\u5317\u4EAC\u5E02\u6D77\u6DC0\u533A\u4E0A\u573010\u8857\");\n    } else {\n      if (this.refs.visitSignClientMap) {\n        this.refs.visitSignClientMap.innerHTML = \"\";\n      }\n    }\n  }\n  showMap = (location) => {\n    // \u767E\u5EA6\u5730\u56FEAPI\u529F\u80FD\n    let _this = this;\n    let transforRTMsg = function(data) {\n      let handler = _this.props.customHandler;\n      if (handler) {\n        handler({\n          eventType: 'message',\n          data: data\n        });\n      }\n    }\n    this.setState({\n        address: location.address\n    });\n    let map = new BMap.Map(\"visitSignOutGateStoreMap\");\n    map.disableDragging();\n    map.disableScrollWheelZoom();\n    map.disableDoubleClickZoom();\n    let point = new BMap.Point(location.point.lng, location.point.lat);\n    map.centerAndZoom(point, 16);\n    let marker = new BMap.Marker(point); // \u521B\u5EFA\u6807\u6CE8\n    map.addOverlay(marker); // \u5C06\u6807\u6CE8\u6DFB\u52A0\u5230\u5730\u56FE\u4E2D\n    marker.setAnimation(BMAP_ANIMATION_BOUNCE); //\u8DF3\u52A8\u7684\u52A8\u753B\n    transforRTMsg({\n       address:location.address,\n       latitude:location.point.lat,\n       longitude:location.point.lng\n    });\n  }\n  \n  handleMarkChange = (evt) => {\n     this.setState({mark:evt.target.value});\n  }\n  componentWillReceiveProps = (nextProps)=> {\n     if(nextProps.customData && this.state.mark != nextProps.customData.mark){\n        this.setState({mark: nextProps.customData.mark,markState:nextProps.customData.markState}); \n     } \n  }\n  \n  render = () => {\n    console.info(this.props.customData);\n    let datas = (this.props.customData && this.props.customData.content && ysp1.ext.Utils.filterArray(0, this.props.customData.content ));\n    let _this = this;\n    return (\n      <div className=\"ysp-visitsign-wrapper\">\n            <Accordion className=\"ysp-visitsign-accordion-wapper\" close={false}>\n              <Accordion.Header>\n                <header className=\"ysp-visitsign-accordion-header\">\n                  <span>\n                    <span className=\"ysp-accordion-mendian-icon\"></span>\n                  </span>\n                  <span onClick={(e)=>{\n                    var handler = this.props.customHandler;\n                    if(handler){\n                    \thandler({\n                      \teventType:'click_K'\n                      })\n                    }\n                  }}>\u95E8\u5E97</span>\n                </header>\n              </Accordion.Header>\n              <Accordion.Body className=\"ysp-visitsign-acoordion-body\">\n                {datas && datas.length ? datas.map((items, index)=>\n                  <div key={index} className=\"ysp-visitsign-accordion-item\" onClick={()=>{                              \n                          _this.setState({\n                            visitObject: items[0]\n                          }); \n                          let handler = _this.props.customHandler;\n                          if (handler) {\n                            handler({\n                              eventType: 'click',\n                              data:items[items.length - 1]\n                            });\n                          }    \n                          _this.toggleSwitch();                            \n                      }}>\n                     <div>\n                        <div>{items[0]}</div>\n                        <div>\n                           <span style={{flex:'0 1 100%'}}>\n                             <span>\u6240\u5C5E\u5BA2\u6237</span>\n                             <span>{items[3]}</span>\n                          </span>\n                        </div>                                \n                    </div>\n                    <div>\n                      <span className=\"ysp-entry-icon\"></span>                          \n                    </div> \n                  </div>\n                ) : \"\u65E0\u6570\u636E\" }    \n              </Accordion.Body>\n           </Accordion>\n           <div className=\"ysp-dialog-wrapper\" style={{display:this.state.open ?\"\":\"none\"}}>\n             <CustomHeader \n                 data={{centerText:\"\u62DC\u8BBF\u7B7E\u9000\",rightText:\"\u7B5B\u9009\"}} \n                 backIsShow={true} \n                 back={()=>{ \n                    _this.toggleSwitch(); \n                 }} \n                 filterIsShow={false} \n                 filter={()=>{console.info(\"header filter ...\")}}/>\n             <div id=\"visitSignOutGateStoreMap\"></div>\n             <footer className=\"ysp-dialog-wrapper-footer\">\n               <div> \n                 <span>\n                   <span>\n                     <span className=\"ysp-visitsign-date-icon\"></span>\n                   </span>\n                   <span>\u62DC\u8BBF\u65E5\u671F<span className=\"ysp-important-tip\">*</span></span>\n                 </span>\n                 <span>{ysp1.ext.Utils.getCurrentData()}</span>\n               </div>\n               <div> \n                 <span>\n                   <span>\n                     <span className=\"ysp-visitsign-address-icon\"></span>\n                   </span>\n                   <span>\u5730\u5740<span className=\"ysp-important-tip\">*</span></span>\n                 </span>\n                 <span>{this.state.address}</span>\n               </div>\n               <div> \n                 <span>\n                   <span>\n                     <span className=\"ysp-visitsign-object-icon\"></span>\n                   </span>\n                   <span>\u62DC\u8BBF\u5BF9\u8C61<span className=\"ysp-important-tip\">*</span></span>\n                 </span>\n                 <span>{this.state.visitObject}</span>\n               </div>\n               <AMUI.Button \n                 block={true} \n                 amSize=\"lg\" \n                 amStyle=\"success\"\n                 disabled = {this.props.customData && this.props.customData.submitDisabled}\n                 onClick={()=>{\n                    let handler = _this.props.customHandler;\n                      if (handler) {\n                        handler({\n                            eventType: 'submit'\n                         });\n                      } \n                 }}\n                 >\u63D0\u4EA4</AMUI.Button>\n               <div> \n                 <span>\n                   <span>\n                     <span className=\"ysp-visitsign-psi-icon\"></span>\n                   </span>\n                   <span>PSI\u6570\u636E</span>\n                 </span>\n                 <span onClick={()=>{\n                      let handler = _this.props.customHandler;\n                      if (handler) {\n                        handler({\n                            eventType: 'fillPSI'\n                         });\n                      }    \n                   }}>{this.props.customData && this.props.customData.psi}</span>\n               </div>\n               <div> \n                 <span>\n                   <span>\n                     <span className=\"ysp-visitsign-clientinfo-icon\"></span>\n                   </span>\n                   <span>\u5BA2\u6237\u5176\u5B83\u4FE1\u606F</span>\n                 </span>\n                 <span onClick={()=>{\n                      let handler = _this.props.customHandler;\n                      if (handler) {\n                        handler({\n                            eventType: 'fillClientInfo'\n                         });\n                      }    \n                   }}>{this.props.customData && this.props.customData.clientInfo}</span>\n               </div>\n               <div> \n                 <span>\n                   <span>\n                     <span className=\"ysp-visitsign-visitreport-icon\"></span>\n                   </span>\n                   <span>\u62DC\u8BBF\u62A5\u544A</span>\n                 </span>\n                 <span onClick={()=>{\n                      let handler = _this.props.customHandler;\n                      if (handler) {\n                        handler({\n                            eventType: 'fillReport'\n                         });\n                      }    \n                   }}>{this.props.customData && this.props.customData.report}</span>\n               </div>\n               <div>\n                  <textarea  className=\"field\" onBlur={(e)=>{\n                      let handler = _this.props.customHandler;\n                      if (handler) {\n                        handler({\n                            eventType: 'fillMark',\n                            data:{\n                               mark:e.target.value\n                            }\n                         });\n                      _this.setState({mark:e.target.value});\n                        \n                      }\n                   }} \n                    onChange={this.handleMarkChange.bind(this)}\n                    value={this.state.mark} \n                    readOnly = {this.state.markState}\n                    ></textarea>\n               </div>\n             </footer>\n           </div>\n      </div>\n    );\n  }\n  componentDidUpdate = () => {\n    /*if (top.AMap) {\n      this.showMap();\n    } else {\n      top.addEventListener(\"map_loaded\", this.showMap, false);\n    }*/\n  }\n}";
      return '\'use strict\';\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _react = require(\'react\');\n\nvar _yspCustomComponents = require(\'ysp-custom-components\');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_Component) {\n  _inherits(_class, _Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    var _this2 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this));\n\n    _this2.componentWillMount = function () {\n      var _this = _this2;\n      //window.addEventListener(\'visit-signout-gate-dialog:open\',this.toggleSwitch.bind(this),false);\n    };\n\n    _this2.componentWillUnmount = function () {\n      //window.removeEventListener(\'visit-signout-gate-dialog:open\',this.toggleSwitch.bind(this),false);\n    };\n\n    _this2.toggleSwitch = function (e) {\n      if (e) {\n        _this2.setState({\n          visitObject: e.msg ? e.msg : "\u52A0\u8F7D\u4E2D"\n        });\n      }\n      var _this = _this2;\n      var flag = !_this2.state.open;\n      _this2.setState({\n        open: flag\n      });\n      if (flag) {\n\n        setLocation = function setLocation(location) {\n          //let address = arg.address;\n          _this.showMap(location);\n        };\n        locationBegin(); //\u5F00\u59CB\u5B9A\u4F4D\n        //this.showMap("\u5317\u4EAC\u5E02\u6D77\u6DC0\u533A\u4E0A\u573010\u8857");\n      } else {\n        if (_this2.refs.visitSignClientMap) {\n          _this2.refs.visitSignClientMap.innerHTML = "";\n        }\n      }\n    };\n\n    _this2.showMap = function (location) {\n      // \u767E\u5EA6\u5730\u56FEAPI\u529F\u80FD\n      var _this = _this2;\n      var transforRTMsg = function transforRTMsg(data) {\n        var handler = _this.props.customHandler;\n        if (handler) {\n          handler({\n            eventType: \'message\',\n            data: data\n          });\n        }\n      };\n      _this2.setState({\n        address: location.address\n      });\n      var map = new BMap.Map("visitSignOutGateStoreMap");\n      map.disableDragging();\n      map.disableScrollWheelZoom();\n      map.disableDoubleClickZoom();\n      var point = new BMap.Point(location.point.lng, location.point.lat);\n      map.centerAndZoom(point, 16);\n      var marker = new BMap.Marker(point); // \u521B\u5EFA\u6807\u6CE8\n      map.addOverlay(marker); // \u5C06\u6807\u6CE8\u6DFB\u52A0\u5230\u5730\u56FE\u4E2D\n      marker.setAnimation(BMAP_ANIMATION_BOUNCE); //\u8DF3\u52A8\u7684\u52A8\u753B\n      transforRTMsg({\n        address: location.address,\n        latitude: location.point.lat,\n        longitude: location.point.lng\n      });\n    };\n\n    _this2.handleMarkChange = function (evt) {\n      _this2.setState({ mark: evt.target.value });\n    };\n\n    _this2.componentWillReceiveProps = function (nextProps) {\n      if (nextProps.customData && _this2.state.mark != nextProps.customData.mark) {\n        _this2.setState({ mark: nextProps.customData.mark, markState: nextProps.customData.markState });\n      }\n    };\n\n    _this2.render = function () {\n      console.info(_this2.props.customData);\n      var datas = _this2.props.customData && _this2.props.customData.content && ysp1.ext.Utils.filterArray(0, _this2.props.customData.content);\n      var _this = _this2;\n      return React.createElement(\n        \'div\',\n        { className: \'ysp-visitsign-wrapper\' },\n        React.createElement(\n          _yspCustomComponents.Accordion,\n          { className: \'ysp-visitsign-accordion-wapper\', close: false },\n          React.createElement(\n            _yspCustomComponents.Accordion.Header,\n            null,\n            React.createElement(\n              \'header\',\n              { className: \'ysp-visitsign-accordion-header\' },\n              React.createElement(\n                \'span\',\n                null,\n                React.createElement(\'span\', { className: \'ysp-accordion-mendian-icon\' })\n              ),\n              React.createElement(\n                \'span\',\n                { onClick: function onClick(e) {\n                    var handler = _this2.props.customHandler;\n                    if (handler) {\n                      handler({\n                        eventType: \'click_K\'\n                      });\n                    }\n                  } },\n                \'\\u95E8\\u5E97\'\n              )\n            )\n          ),\n          React.createElement(\n            _yspCustomComponents.Accordion.Body,\n            { className: \'ysp-visitsign-acoordion-body\' },\n            datas && datas.length ? datas.map(function (items, index) {\n              return React.createElement(\n                \'div\',\n                { key: index, className: \'ysp-visitsign-accordion-item\', onClick: function onClick() {\n                    _this.setState({\n                      visitObject: items[0]\n                    });\n                    var handler = _this.props.customHandler;\n                    if (handler) {\n                      handler({\n                        eventType: \'click\',\n                        data: items[items.length - 1]\n                      });\n                    }\n                    _this.toggleSwitch();\n                  } },\n                React.createElement(\n                  \'div\',\n                  null,\n                  React.createElement(\n                    \'div\',\n                    null,\n                    items[0]\n                  ),\n                  React.createElement(\n                    \'div\',\n                    null,\n                    React.createElement(\n                      \'span\',\n                      { style: { flex: \'0 1 100%\' } },\n                      React.createElement(\n                        \'span\',\n                        null,\n                        \'\\u6240\\u5C5E\\u5BA2\\u6237\'\n                      ),\n                      React.createElement(\n                        \'span\',\n                        null,\n                        items[3]\n                      )\n                    )\n                  )\n                ),\n                React.createElement(\n                  \'div\',\n                  null,\n                  React.createElement(\'span\', { className: \'ysp-entry-icon\' })\n                )\n              );\n            }) : "\u65E0\u6570\u636E"\n          )\n        ),\n        React.createElement(\n          \'div\',\n          { className: \'ysp-dialog-wrapper\', style: { display: _this2.state.open ? "" : "none" } },\n          React.createElement(_yspCustomComponents.CustomHeader, {\n            data: { centerText: "\u62DC\u8BBF\u7B7E\u9000", rightText: "\u7B5B\u9009" },\n            backIsShow: true,\n            back: function back() {\n              _this.toggleSwitch();\n            },\n            filterIsShow: false,\n            filter: function filter() {\n              console.info("header filter ...");\n            } }),\n          React.createElement(\'div\', { id: \'visitSignOutGateStoreMap\' }),\n          React.createElement(\n            \'footer\',\n            { className: \'ysp-dialog-wrapper-footer\' },\n            React.createElement(\n              \'div\',\n              null,\n              React.createElement(\n                \'span\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  React.createElement(\'span\', { className: \'ysp-visitsign-date-icon\' })\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u62DC\\u8BBF\\u65E5\\u671F\',\n                  React.createElement(\n                    \'span\',\n                    { className: \'ysp-important-tip\' },\n                    \'*\'\n                  )\n                )\n              ),\n              React.createElement(\n                \'span\',\n                null,\n                ysp1.ext.Utils.getCurrentData()\n              )\n            ),\n            React.createElement(\n              \'div\',\n              null,\n              React.createElement(\n                \'span\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  React.createElement(\'span\', { className: \'ysp-visitsign-address-icon\' })\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u5730\\u5740\',\n                  React.createElement(\n                    \'span\',\n                    { className: \'ysp-important-tip\' },\n                    \'*\'\n                  )\n                )\n              ),\n              React.createElement(\n                \'span\',\n                null,\n                _this2.state.address\n              )\n            ),\n            React.createElement(\n              \'div\',\n              null,\n              React.createElement(\n                \'span\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  React.createElement(\'span\', { className: \'ysp-visitsign-object-icon\' })\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u62DC\\u8BBF\\u5BF9\\u8C61\',\n                  React.createElement(\n                    \'span\',\n                    { className: \'ysp-important-tip\' },\n                    \'*\'\n                  )\n                )\n              ),\n              React.createElement(\n                \'span\',\n                null,\n                _this2.state.visitObject\n              )\n            ),\n            React.createElement(\n              AMUI.Button,\n              {\n                block: true,\n                amSize: \'lg\',\n                amStyle: \'success\',\n                disabled: _this2.props.customData && _this2.props.customData.submitDisabled,\n                onClick: function onClick() {\n                  var handler = _this.props.customHandler;\n                  if (handler) {\n                    handler({\n                      eventType: \'submit\'\n                    });\n                  }\n                }\n              },\n              \'\\u63D0\\u4EA4\'\n            ),\n            React.createElement(\n              \'div\',\n              null,\n              React.createElement(\n                \'span\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  React.createElement(\'span\', { className: \'ysp-visitsign-psi-icon\' })\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'PSI\\u6570\\u636E\'\n                )\n              ),\n              React.createElement(\n                \'span\',\n                { onClick: function onClick() {\n                    var handler = _this.props.customHandler;\n                    if (handler) {\n                      handler({\n                        eventType: \'fillPSI\'\n                      });\n                    }\n                  } },\n                _this2.props.customData && _this2.props.customData.psi\n              )\n            ),\n            React.createElement(\n              \'div\',\n              null,\n              React.createElement(\n                \'span\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  React.createElement(\'span\', { className: \'ysp-visitsign-clientinfo-icon\' })\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u5BA2\\u6237\\u5176\\u5B83\\u4FE1\\u606F\'\n                )\n              ),\n              React.createElement(\n                \'span\',\n                { onClick: function onClick() {\n                    var handler = _this.props.customHandler;\n                    if (handler) {\n                      handler({\n                        eventType: \'fillClientInfo\'\n                      });\n                    }\n                  } },\n                _this2.props.customData && _this2.props.customData.clientInfo\n              )\n            ),\n            React.createElement(\n              \'div\',\n              null,\n              React.createElement(\n                \'span\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  React.createElement(\'span\', { className: \'ysp-visitsign-visitreport-icon\' })\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u62DC\\u8BBF\\u62A5\\u544A\'\n                )\n              ),\n              React.createElement(\n                \'span\',\n                { onClick: function onClick() {\n                    var handler = _this.props.customHandler;\n                    if (handler) {\n                      handler({\n                        eventType: \'fillReport\'\n                      });\n                    }\n                  } },\n                _this2.props.customData && _this2.props.customData.report\n              )\n            ),\n            React.createElement(\n              \'div\',\n              null,\n              React.createElement(\'textarea\', { className: \'field\', onBlur: function onBlur(e) {\n                  var handler = _this.props.customHandler;\n                  if (handler) {\n                    handler({\n                      eventType: \'fillMark\',\n                      data: {\n                        mark: e.target.value\n                      }\n                    });\n                    _this.setState({ mark: e.target.value });\n                  }\n                },\n                onChange: _this2.handleMarkChange.bind(_this2),\n                value: _this2.state.mark,\n                readOnly: _this2.state.markState\n              })\n            )\n          )\n        )\n      );\n    };\n\n    _this2.componentDidUpdate = function () {\n      /*if (top.AMap) {\n        this.showMap();\n      } else {\n        top.addEventListener("map_loaded", this.showMap, false);\n      }*/\n    };\n\n    _this2.state = {\n      open: false,\n      address: "\u5B9A\u4F4D\u4E2D",\n      visitObject: "\u52A0\u8F7D\u4E2D"\n    };\n    return _this2;\n  }\n\n  return _class;\n}(_react.Component);\n\nexports.default = _class;';
    },
    getData_control175_R1PM9k: function (elem) {
      if (!elem) {
        return;
      }var btn = elem.querySelector('span[title="下一记录集"]');if (btn) {
        return true;
      }
    },
    doAction_uiControl171_XqBd4Z: function (data, elem) {
      if (data.eventType == 'prevpage') {
        elem.ownerDocument.querySelector('span[title="前一记录集"]').click();
      }if (data.eventType == 'nextpage') {
        elem.ownerDocument.querySelector('span[title="下一记录集"]').click();
      }
    },
    getTemplate_uiControl171_XqBd4Z: function () {
      var selfTemplate = 'import { Pagination } from \'ysp-custom-components\';\nexport default class extends React.Component {\n\trender(){\n  \treturn (\n    \t<div>{this.props.customData &&\n          <Pagination \n          prev={()=>{\n            const handler = this.props.customHandler;\n          \tif(handler){\n            \thandler({\n              \teventType: \'prevpage\'\n              });\n            }\n          }}\n          next={()=>{\n          \tconst handler = this.props.customHandler;\n            if(handler){\n            \thandler({\n              \teventType: \'nextpage\'\n              })\n            }\n          }}\n          />\n        }\t\n      </div>\n    )\n  }\n}';
      return '\'use strict\';\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _yspCustomComponents = require(\'ysp-custom-components\');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \'render\',\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\n        \'div\',\n        null,\n        this.props.customData && React.createElement(_yspCustomComponents.Pagination, {\n          prev: function prev() {\n            var handler = _this2.props.customHandler;\n            if (handler) {\n              handler({\n                eventType: \'prevpage\'\n              });\n            }\n          },\n          next: function next() {\n            var handler = _this2.props.customHandler;\n            if (handler) {\n              handler({\n                eventType: \'nextpage\'\n              });\n            }\n          }\n        })\n      );\n    }\n  }]);\n\n  return _class;\n}(React.Component);\n\nexports.default = _class;';
    }
  });
})(window, ysp);